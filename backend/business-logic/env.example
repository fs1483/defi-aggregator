# DeFi聚合器业务逻辑服务环境配置示例
# 复制此文件为.env并根据实际环境配置
# 重要提示：关键配置项从全局配置文件(../../env.global)读取

# ========================================
# 服务配置（从全局配置读取）
# ========================================
# PORT - 从env.global的BUSINESS_LOGIC_PORT读取
# APP_ENV - 从env.global读取
# LOG_LEVEL - 从env.global读取
# DEBUG - 从env.global读取

# 服务名称（可自定义）
SERVICE_NAME=defi-aggregator-business-logic

# ========================================
# 数据库配置（从全局配置读取）
# ========================================
# DB_HOST - 从env.global读取
# DB_PORT - 从env.global读取
# DB_USER - 从env.global读取
# DB_PASSWORD - 从env.global读取
# DB_NAME - 从env.global读取
# DB_SSL_MODE - 从env.global读取

# 数据库连接池配置（可自定义）
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=10
DB_MAX_LIFETIME=300s

# 测试数据库配置
TEST_DB_NAME=defi_aggregator_test

# ========================================
# Redis缓存配置（从全局配置读取）
# ========================================
# REDIS_HOST - 从env.global读取
# REDIS_PORT - 从env.global读取
# REDIS_PASSWORD - 从env.global读取
# REDIS_DB_BUSINESS_LOGIC - 从env.global读取

# Redis连接池配置（可自定义）
REDIS_MAX_RETRIES=3
REDIS_POOL_SIZE=10

# ========================================
# JWT认证配置（从全局配置读取）
# ========================================
# JWT_SECRET_KEY - 从env.global读取

# JWT令牌配置（可自定义）
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=168h
JWT_ISSUER=defi-aggregator
JWT_ALGORITHM=HS256

# ========================================
# 外部服务配置（从全局配置读取）
# ========================================
# SMART_ROUTER_URL - 从env.global读取

# 外部服务超时配置（可自定义）
EXTERNAL_SERVICE_TIMEOUT=30s

# ========================================
# 安全配置（从全局配置读取）
# ========================================
# CORS_ALLOWED_ORIGINS - 从env.global读取

# CORS详细配置（可自定义）
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With

# API限流配置（可自定义）
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_DURATION=1m

# ========================================
# 监控和日志配置
# ========================================
METRICS_ENABLED=true
METRICS_PATH=/metrics
HEALTH_CHECK_PATH=/health
ENABLE_SWAGGER=true

# 日志配置
LOG_FORMAT=json
LOG_OUTPUT=stdout

# ========================================
# 业务配置
# ========================================
# 分页配置
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100

# 缓存TTL配置
CACHE_TTL_SHORT=60s
CACHE_TTL_MEDIUM=300s
CACHE_TTL_LONG=3600s

# ========================================
# 配置说明
# ========================================
# 1. 本文件定义服务专用配置，全局配置从env.global读取
# 2. 必填配置项：PORT, APP_ENV, LOG_LEVEL, DB_*, REDIS_*, JWT_SECRET_KEY, 
#    SMART_ROUTER_URL, CORS_ALLOWED_ORIGINS
# 3. 生产环境部署时，这些配置由Docker Compose从env.global自动加载
# 4. 如需自定义配置，可在此文件中覆盖全局配置